# Keygen for [Master PDF Editor](https://code-industry.net/masterpdfeditor/) 5.x

**NOTE: Disconnect from internet before clicking `Activate`**

## Python support (Python 3+)
Direct run using `curl`:
```
python -c "$(curl -fsSL https://raw.githubusercontent.com/n0k0m3/master-pdf-keygen/main/src_python/keygen.py?token=ACTLJ4SB4M2IEOLEUQFITY3BQWCSQ)"
```
Or clone the repo and run:
```
python src_python/keygen.py
```
Copy `Registration Code`, `Activation Code` and profit.
## Arch PKGBUILD
Because this keygen only works up to version 5.6.80 (reason below), I created a PKGBUILD for this version.
(Other distro can download the `.deb` from [here](https://code-industry.ru/public/))

- Clone `PKGBUILD`
- Run (and install) `makepkg`
- (Optional if you don't want to use `makepkg -i`) Install with `pacman`
```
curl https://raw.githubusercontent.com/n0k0m3/master-pdf-keygen/main/PKGBUILD?token=ACTLJ4XAUK5VN5J3T22POMTBQWCXE -o "PKGBUILD"
# Make package, clean, install dependencies, install
makepkg -csi
```
Remove downloaded extras if needed
```
rm master-pdf-editor-5.6.80-qt5.x86_64.tar.gz
rm masterpdfeditor-5.6.80-1-x86_64.pkg.tar.zst
rm PKGBUILD
```

## Keygen algorithm

- Registration Code is a 18 characters uppercased alphanumeric string, can be anything  
- Computer Code is a 40 characters string, including `-`, generated by `Master PDF Editor`. Only first 36 characters were used.
- Each of the Code string will be hashed twice with `SHA-1`, producing 40 characters alphanumeric strings
- Hashed strings are mixed iteratively, `registration_hash[i] + computer_hash[i]`
- This hashed string is hashed once with `SHA-1` and uppercased
- A random 10 characters uppercased alphanumeric string is appened to the final string and giving out `Activation Code`

## From original repo owner (JingMatrix)

The Pascal code is written by [RadiXX11](https://radixx11rce2.blogspot.com/p/source-code.html). I test `bin\Keygen.exe` on Linux using `Wine`, it works perfectly.

To reduce security concern, I am going to rewrite this keygen in Javascript and publish it on web.

As pointed out [here](https://aur.archlinux.org/packages/masterpdfeditor-libs-included/) (Link deleted):

> I discovered that version **5.6.80** is the very last which can be registered with keygen.

All available verisons can be downloaded from: https://code-industry.ru/public/ .

### demo

Now I finish my original goal, see [demo](https://jingmatrix.github.io/articles/writings/2019-12-21-Workflow/#writing-documents) here.

**Be offline when you press `activate`**

### FreePascal Support

Code in `src_fpc` can be compiled (and test) using FreePascal with command
```
cd src_fpc
fpc -Mobjfpc Keygen.pas
./Keygen
```
